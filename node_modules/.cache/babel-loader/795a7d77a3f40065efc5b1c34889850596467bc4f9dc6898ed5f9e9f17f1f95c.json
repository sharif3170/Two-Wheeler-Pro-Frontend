{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phata\\\\OneDrive\\\\Desktop\\\\VaahanBazaar\\\\front\\\\src\\\\components\\\\ReviewForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useUser } from '../contexts/UserContext';\nimport { useReviews } from '../contexts/ReviewsContext';\nimport axios from 'axios';\nimport './ReviewForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewForm = ({\n  vehicleId,\n  onReviewAdded\n}) => {\n  _s();\n  const [rating, setRating] = useState(5);\n  const [title, setTitle] = useState('');\n  const [comment, setComment] = useState('');\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const {\n    user\n  } = useUser();\n  const {\n    addReview\n  } = useReviews();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    if (!user) {\n      setError('Please log in to submit a review');\n      return;\n    }\n    if (!title.trim()) {\n      setError('Please enter a title for your review');\n      return;\n    }\n    if (!comment.trim()) {\n      setError('Please enter your review comment');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      // Send review to backend\n      const reviewData = {\n        vehicleId: parseInt(vehicleId),\n        rating: parseInt(rating),\n        title,\n        comment\n      };\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/reviews`, reviewData, {\n        headers: {\n          'Content-Type': 'application/json',\n          'user-id': user._id\n        }\n      });\n\n      // Add review to local context\n      addReview(reviewData, user._id);\n\n      // Reset form\n      setRating(5);\n      setTitle('');\n      setComment('');\n\n      // Notify parent component\n      if (onReviewAdded) {\n        onReviewAdded();\n      }\n\n      // Show success message\n      alert('Review submitted successfully!');\n    } catch (err) {\n      console.error('Error submitting review:', err);\n      if (err.response && err.response.data && err.response.data.message) {\n        setError(`Error: ${err.response.data.message}`);\n      } else {\n        setError('Failed to submit review. Please try again.');\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please log in to submit a review.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Write a Review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rating-input\",\n          children: [1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `star ${star <= rating ? 'filled' : ''}`,\n            onClick: () => setRating(star),\n            children: \"\\u2605\"\n          }, star, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          placeholder: \"Give your review a title\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"comment\",\n          children: \"Review:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"comment\",\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          placeholder: \"Share your experience with this vehicle\",\n          rows: \"4\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        disabled: isSubmitting,\n        children: isSubmitting ? 'Submitting...' : 'Submit Review'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewForm, \"bgeD5CTq+rHrO/GT6T0SLr5XEzo=\", false, function () {\n  return [useUser, useReviews];\n});\n_c = ReviewForm;\nexport default ReviewForm;\nvar _c;\n$RefreshReg$(_c, \"ReviewForm\");","map":{"version":3,"names":["React","useState","useUser","useReviews","axios","jsxDEV","_jsxDEV","ReviewForm","vehicleId","onReviewAdded","_s","rating","setRating","title","setTitle","comment","setComment","error","setError","isSubmitting","setIsSubmitting","user","addReview","handleSubmit","e","preventDefault","trim","reviewData","parseInt","response","post","process","env","REACT_APP_API_URL","headers","_id","alert","err","console","data","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","star","onClick","htmlFor","type","id","value","onChange","target","placeholder","required","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/phata/OneDrive/Desktop/VaahanBazaar/front/src/components/ReviewForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useUser } from '../contexts/UserContext';\nimport { useReviews } from '../contexts/ReviewsContext';\nimport axios from 'axios';\nimport './ReviewForm.css';\n\nconst ReviewForm = ({ vehicleId, onReviewAdded }) => {\n  const [rating, setRating] = useState(5);\n  const [title, setTitle] = useState('');\n  const [comment, setComment] = useState('');\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const { user } = useUser();\n  const { addReview } = useReviews();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    if (!user) {\n      setError('Please log in to submit a review');\n      return;\n    }\n\n    if (!title.trim()) {\n      setError('Please enter a title for your review');\n      return;\n    }\n\n    if (!comment.trim()) {\n      setError('Please enter your review comment');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Send review to backend\n      const reviewData = {\n        vehicleId: parseInt(vehicleId),\n        rating: parseInt(rating),\n        title,\n        comment\n      };\n\n      const response = await axios.post(\n        `${process.env.REACT_APP_API_URL}/reviews`,\n        reviewData,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'user-id': user._id\n          }\n        }\n      );\n\n      // Add review to local context\n      addReview(reviewData, user._id);\n      \n      // Reset form\n      setRating(5);\n      setTitle('');\n      setComment('');\n      \n      // Notify parent component\n      if (onReviewAdded) {\n        onReviewAdded();\n      }\n      \n      // Show success message\n      alert('Review submitted successfully!');\n    } catch (err) {\n      console.error('Error submitting review:', err);\n      if (err.response && err.response.data && err.response.data.message) {\n        setError(`Error: ${err.response.data.message}`);\n      } else {\n        setError('Failed to submit review. Please try again.');\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!user) {\n    return (\n      <div className=\"review-form-container\">\n        <p>Please log in to submit a review.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"review-form-container\">\n      <h3>Write a Review</h3>\n      {error && <div className=\"error-message\">{error}</div>}\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>Rating:</label>\n          <div className=\"rating-input\">\n            {[1, 2, 3, 4, 5].map((star) => (\n              <span\n                key={star}\n                className={`star ${star <= rating ? 'filled' : ''}`}\n                onClick={() => setRating(star)}\n              >\n                ★\n              </span>\n            ))}\n          </div>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"title\">Title:</label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"Give your review a title\"\n            required\n          />\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"comment\">Review:</label>\n          <textarea\n            id=\"comment\"\n            value={comment}\n            onChange={(e) => setComment(e.target.value)}\n            placeholder=\"Share your experience with this vehicle\"\n            rows=\"4\"\n            required\n          />\n        </div>\n        \n        <button \n          type=\"submit\" \n          className=\"submit-btn\"\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? 'Submitting...' : 'Submit Review'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ReviewForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}